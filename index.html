<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>WebRTC UT</title>
</head>

<body onload="loadMedia()">

<div>
	<p id="debugMsg">Debug Message</p>
</div>

<div>
	<video id="selfPreview"></video>
</div>

<script>
function loadMedia() {
	debugMsg = document.getElementById("debugMsg");
	videoElement = document.getElementById("selfPreview");
	
    navigator.mediaDevices.getUserMedia({
        audio: false,
        video: {
            mandatory: {
                minWidth: 1920,
                maxWidth: 1920,
                minHeight: 1080,
                maxHeight: 1080,
            }
        },
      }).then(stream => {
        debugMsg.innerText += "\nStarting local stream...\n";
        videoElement.srcObject = stream;
        videoElement.muted = true;
        videoElement.play();
      }).catch((err) => {
        debugMsg.innerText += "[Error] Can't start local stream\n";
        debugMsg.innerText += "[Error] "+err.name+ ": "+ err.message +"\n";
      });      
} 
</script>

</body>
</html>